<ic-navbar></ic-navbar>
<div *ngIf="isLoading">Loading ...</div>
<div class="container-fluid" *ngIf= "!isLoading">
    <div class="flex-display">
        <div class="dtls-display">
        <p-card class="card">
            <h3 *ngIf="mode == 'self'">My Profile</h3>
            <h3 *ngIf="mode == 'view' || mode == 'edit'">{{ user.name }}'s Profile</h3>
            <h3 *ngIf="mode == 'create'">Create Profile</h3>
            <div class ="dtls-container">
                <div class="flex-container">
                    <label>Employee ID</label>
<!--                    <input pInputText class="input-field" type="text" [(ngModel)]="empDtls.empID" [disabled]="mode!='create'"/>-->
                  <input pInputText type="userName" id="userName" name="userName" #userName="ngModel" [(ngModel)]="user.userName" class="input-field" [disabled]="true"/>
                </div>
                <div class="flex-container" *ngIf = "user.role == 'admin'">
                    <label>Employee Role</label>
                    <!-- <input pInputText class="input-field" type="text" [(ngModel)]="empDtls.role" [disabled]="mode!='create'"/> -->
                    <input pInputText type="userName" id="userName" name="userName" #userName="ngModel" [(ngModel)]="user.role" class="input-field" [disabled]="true"/>
                </div>
            </div>
            <div class ="dtls-container">
                <div class="flex-container">
                    <label>Full Name</label>
<!--                    <input pInputText class="input-field" type="text" [(ngModel)]="empDtls.fullname" [disabled]="mode=='view'" />-->
                  <input pInputText class="input-field" type="text" [(ngModel)]="user.name" [disabled]="mode=='view'" />
                </div>
                <div class="flex-container">
                    <label>Email</label>
                    <input pInputText class="input-field" type="text" [(ngModel)]="user.email" [disabled]="mode=='view'" />
                </div>
            </div>
            <div class ="dtls-container">
                <div class="flex-container">
                    <label>Contact Number</label>
                  <input pInputText class="input-field" type="text" [(ngModel)]="user.contact" [disabled]="mode=='view'" />
                </div>
            </div>
            <div class = "btn-container" *ngIf="mode!='view'">
                <p-button label="Save" styleClass="p-button-primary" (click)="saveBtn()" *ngIf="mode!='create'" ></p-button>
                <p-button label="Create" styleClass="p-button-primary" (click)="createBtn()" *ngIf="mode=='create'" ></p-button>
            </div>
        </p-card>
        </div>
    </div>
</div>

<p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>